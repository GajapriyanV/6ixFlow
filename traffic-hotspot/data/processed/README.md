# Processed Data Directory

This directory contains the cleaned and ML-ready datasets generated from the raw data.

## Generated Files:

### 1. Cleaned Road Segments Data
- **File**: `svc_clean_2022_2024.csv`
- **Generated by**: `ml/clean_svc.py`
- **Description**: Cleaned road segment data filtered for 2022-2024 with engineered features
- **Features**: date, year, month, day_of_week, hour, is_weekend, latitude, longitude, congestion_level, vehicle_count

### 2. Cleaned Intersection Data
- **File**: `counts_clean_2022_2024.csv`
- **Generated by**: `ml/clean_counts.py`
- **Description**: Cleaned intersection data filtered for 2022-2024 with traffic counts
- **Features**: date, year, month, day_of_week, hour, is_weekend, latitude, longitude, congestion_level, vehicle_count, cyclist_count, pedestrian_count, total_count

## File Structure:

```
data/processed/
├── svc_clean_2022_2024.csv                   # Cleaned road segment data
├── counts_clean_2022_2024.csv                # Cleaned intersection data
└── README.md                                  # This file
```

## Data Processing Steps:

1. **Date Filtering**: Only 2022-2024 data is kept
2. **Feature Engineering**: Time-based features (hour, day_of_week, season, etc.)
3. **Location Processing**: Latitude/longitude coordinates
4. **Congestion Classification**: Low/Medium/High based on traffic volume
5. **Missing Value Handling**: Appropriate imputation and cleaning
6. **Data Validation**: Ensures data quality and consistency

## Usage:

These processed files are used by:
- `ml/train.py` - for training the ML models
- The models are then used by the FastAPI backend for predictions

## Regenerating Processed Data:

To regenerate the processed data from raw files:

```bash
# Clean road segment data
python ml/clean_svc.py

# Clean intersection data  
python ml/clean_counts.py
```

**Note**: Make sure the raw data files are in `data/raw/` before running these scripts.

